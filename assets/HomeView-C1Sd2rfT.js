import{c as o,f as C,a as t,w as T,v as j,u,b as $,i as v,n as S,F as h,r as y,d as I,e as m,o as r,t as f}from"./index-BcoM3oMr.js";import{_ as P,L as p}from"./leaflet-src-km7KyCu3.js";const V={class:"min-h-screen w-full bg-slate-50 text-slate-900"},z={class:"mx-auto max-w-6xl px-6 py-6"},D={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},L={class:"rounded-xl border border-slate-200 bg-white shadow-sm"},M={class:"p-6"},B={class:"relative"},F={class:"mt-4 flex gap-2"},N={class:"mt-6"},O={class:"max-h-96 overflow-auto rounded-lg border border-slate-200"},E={key:0,class:"p-4"},G={class:"space-y-2"},K={key:1,class:"divide-y divide-slate-100"},R={class:"flex items-center justify-between px-4 py-2"},U={class:"text-sm text-slate-600"},q={key:0,class:"text-sm text-orange-500"},H={key:1,class:"text-sm font-medium text-emerald-600"},Y={key:2,class:"text-sm text-slate-800"},A={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 px-6"},J={class:"w-full max-w-sm rounded-xl border border-slate-200 bg-white p-6 shadow-lg"},Q={class:"mt-4 flex justify-end"},ee={__name:"HomeView",setup(W){let i=m(""),c=m(""),n=m(!1),d=m(!1);async function b(){n.value=!0;const l=i.value?`/${i.value}/json`:"/json";let e={};try{const a=await fetch(`https://ipapi.co${l}`,{method:"GET"});if(a.status===429){d.value=!0,c.value={},n.value=!1;return}e=await a.json(),c.value=e}catch{c.value={}}n.value=!1;var s=p.DomUtil.get("map");s!=null&&(s._leaflet_id=null),e&&e.latitude&&e.longitude&&w(e.latitude,e.longitude,e.ip)}b();function w(l,e,s){var a=p.map("map").setView([l,e],12);p.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',tileSize:512,zoomOffset:-1}).addTo(a);var k=p.marker([l,e]).addTo(a);p.circle([l,e],{color:"red",fillColor:"#f03",fillOpacity:.2,radius:5e3}).addTo(a),k.bindTooltip(`<center><b>IP Tracking</b></center><hr style="border-top: 3px solid #bbb;">Your IP : ${s}`)}function x(l){i.value=l,b()}const g=["ip","postal","latitude","longitude","utc_offset","country_calling_code","country_area","country_population"];function _(l){for(let e=0;e<g.length;e++)if(l===g[e])return!0}return(l,e)=>(r(),o("div",V,[e[12]||(e[12]=C('<header class="w-full border-b border-slate-200 bg-white"><div class="mx-auto max-w-6xl px-6 py-5"><div class="flex items-center justify-between"><h1 class="text-xl font-semibold tracking-tight">IP Tracking</h1><span class="text-xs text-slate-500">Powered by <a class="text-blue-600 hover:underline" href="https://ipapi.co/" target="_blank">ipapi.co</a></span></div></div></header>',1)),t("main",z,[t("div",D,[t("section",L,[t("div",M,[t("div",B,[T(t("input",{class:"w-full h-11 rounded-lg border border-slate-300 bg-white px-4 pr-12 text-sm placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",type:"search",name:"search",placeholder:"Search IP address","onUpdate:modelValue":e[0]||(e[0]=s=>v(i)?i.value=s:i=s),onKeyup:e[1]||(e[1]=$(s=>b(),["enter"]))},null,544),[[j,u(i)]]),t("button",{type:"submit",class:"absolute right-2 top-1.5 inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-600 hover:bg-slate-50",onClick:e[2]||(e[2]=s=>b()),"aria-label":"Search"},[...e[7]||(e[7]=[t("img",{class:"h-4 w-4",src:P,alt:""},null,-1)])])]),t("div",F,[t("button",{class:"rounded-md border border-slate-300 bg-white px-3 py-2 text-xs text-slate-700 hover:bg-slate-50",onClick:e[3]||(e[3]=s=>x(""))}," My IP "),t("button",{class:"rounded-md border border-slate-300 bg-white px-3 py-2 text-xs text-slate-700 hover:bg-slate-50",onClick:e[4]||(e[4]=s=>x("8.8.8.8"))}," 8.8.8.8 "),t("button",{class:"rounded-md border border-slate-300 bg-white px-3 py-2 text-xs text-slate-700 hover:bg-slate-50",onClick:e[5]||(e[5]=s=>x("2001:4860:4860::8888"))}," 2001:4860:4860::8888 ")]),t("div",N,[t("div",O,[t("div",{class:S({"animate-pulse":u(n)})},[u(n)===!0?(r(),o("div",E,[t("ul",G,[(r(),o(h,null,y(12,s=>t("li",null,[...e[8]||(e[8]=[t("div",{class:"h-5 w-full rounded bg-slate-200"},null,-1)])])),64))])])):(r(),o("div",K,[t("ul",null,[(r(!0),o(h,null,y(u(c),(s,a)=>(r(),o("li",R,[t("span",U,f(a),1),s===""?(r(),o("span",q,"-")):_(a)?(r(),o("span",H,f(s),1)):(r(),o("span",Y,f(s),1))]))),256))])]))],2)])])])]),e[9]||(e[9]=t("section",{class:"rounded-xl border border-slate-200 bg-white shadow-sm"},[t("div",{class:"p-3"},[t("div",{id:"map",class:"h-[520px] w-full rounded-lg"})])],-1))])]),u(d)?(r(),o("div",A,[t("div",J,[e[10]||(e[10]=t("div",{class:"text-lg font-semibold"},"Sorry",-1)),e[11]||(e[11]=t("p",{class:"mt-2 text-sm text-slate-600"}," Too many requests. Try again later. ",-1)),t("div",Q,[t("button",{class:"rounded-md border border-slate-300 bg-white px-4 py-2 text-sm text-slate-800 hover:bg-slate-50",onClick:e[6]||(e[6]=s=>v(d)?d.value=!1:d=!1)}," Close ")])])])):I("",!0)]))}};export{ee as default};
